{"version":3,"sources":["firebase.js","contexts/authContext.js","components/sign-up/signUp.jsx","components/login/login.jsx","components/todo-list/todoList.jsx","components/home/home.jsx","components/private-route/privateRoute.jsx","components/forgot-password/forgotPassword.jsx","components/update-profile/updateProfile.jsx","App.js","index.js"],"names":["app","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","db","firestore","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","user","value","login","email","password","signInWithEmailAndPassword","signup","createUserWithEmailAndPassword","logout","signOut","resetPassword","sendPasswordResetEmail","updateEmail","updatePassword","Provider","SignUp","emailRef","useRef","passwordRef","userNameRef","passwordConnfirmationRef","error","setError","history","useHistory","handleSubmit","e","a","preventDefault","current","collection","doc","uid","set","ID","add","userName","push","className","onSubmit","placeholder","ref","type","required","disabled","onClick","to","LogIn","TodoList","todo","id","inprogress","update","delete","catch","err","console","Home","todoInput","setTodoInput","todos","setTodos","userData","setUserData","getTodos","getUserInfo","onSnapshot","querySnapshot","docs","map","data","timestamp","FieldValue","serverTimestamp","onChange","target","PrivateRoute","Component","component","rest","render","props","ForgotPassword","message","setMessage","UpdateProfile","promises","Promise","all","then","finally","defaultValue","label","App","exact","path","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2f155cc4.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\n\r\nconst app = firebase.initializeApp({\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n  // apiKey: \"AIzaSyAqIYBRmektWn1n-_HyEBcND0QjiidyB1A\",\r\n  // authDomain: \"react-todo-dev-d8f50.firebaseapp.com\",\r\n  // projectId: \"react-todo-dev-d8f50\",\r\n  // storageBucket: \"react-todo-dev-d8f50.appspot.com\",\r\n  // messagingSenderId: \"778345300194\",\r\n  // appId: \"1:778345300194:web:cd75d84460e0a9b50d1ebb\",\r\n});\r\n\r\n// export const db = firebaseApp.firestore();\r\n// const auth = firebase.auth();\r\n// const storage = firebase.storage();\r\n// const provider = new firebase.auth.GoogleAuthProvider();\r\n\r\n// export const userProfile = async (userAuth)\r\n\r\nexport const auth = app.auth();\r\nexport const db = app.firestore();\r\nexport default app;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { auth } from \"../firebase\";\r\n\r\nconst AuthContext = React.createContext();\r\n\r\nexport function useAuth() {\r\n  return useContext(AuthContext);\r\n}\r\n\r\nexport function AuthProvider({ children }) {\r\n  const [currentUser, setCurrentUser] = useState();\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  function signup(email, password) {\r\n    return auth.createUserWithEmailAndPassword(email, password);\r\n  }\r\n\r\n  function login(email, password) {\r\n    return auth.signInWithEmailAndPassword(email, password);\r\n  }\r\n\r\n  function logout() {\r\n    return auth.signOut();\r\n  }\r\n\r\n  function resetPassword(email) {\r\n    return auth.sendPasswordResetEmail(email);\r\n  }\r\n\r\n  function updateEmail(email) {\r\n    return currentUser.updateEmail(email);\r\n  }\r\n\r\n  function updatePassword(password) {\r\n    return currentUser.updatePassword(password);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const unsucribe = auth.onAuthStateChanged((user) => {\r\n      setCurrentUser(user);\r\n      setLoading(false);\r\n    });\r\n    return unsucribe;\r\n  }, []);\r\n\r\n  const value = {\r\n    currentUser,\r\n    login,\r\n    signup,\r\n    logout,\r\n    resetPassword,\r\n    updateEmail,\r\n    updatePassword,\r\n  };\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {!loading && children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n","import React, { useRef, useState } from \"react\";\r\nimport \"./signUp.styles.css\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport { useAuth } from \"../../contexts/authContext\";\r\nimport { auth, db } from \"../../firebase\";\r\n\r\nfunction SignUp() {\r\n  const emailRef = useRef();\r\n  const passwordRef = useRef();\r\n  const userNameRef = useRef();\r\n  const passwordConnfirmationRef = useRef();\r\n  const { signup } = useAuth();\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const history = useHistory();\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    if (passwordRef.current.value !== passwordConnfirmationRef.current.value) {\r\n      return setError(\"password don't match\");\r\n    }\r\n    try {\r\n      setError(\"\");\r\n      setLoading(true);\r\n      await signup(emailRef.current.value, passwordRef.current.value);\r\n      const currentUser = auth.currentUser;\r\n      db.collection(\"users\").doc(currentUser.uid).set({\r\n        email: currentUser.email,\r\n        ID: currentUser.uid,\r\n      });\r\n      db.collection(\"users\").doc(currentUser.uid).collection(\"usersInfo\").add({\r\n        userName: userNameRef.current.value,\r\n      });\r\n      history.push(\"/\");\r\n    } catch {\r\n      setError(\"Failed to create account\");\r\n    }\r\n    setLoading(false);\r\n  }\r\n\r\n  return (\r\n    <div className=\"main__container\">\r\n      <div className=\"circle__one\" />\r\n      <div className=\"circle__two\" />\r\n      <div className=\"sign__up__container\">\r\n        <h2 className=\"sign__up__title\">Sign Up</h2>\r\n        {error && <h3 className=\"error__message\">{error}</h3>}\r\n        <form className=\"sign__up__form\" onSubmit={handleSubmit}>\r\n          <div className=\"sign__up__field\">\r\n            <input\r\n              placeholder=\"email\"\r\n              ref={emailRef}\r\n              className=\"sign__up__inp\"\r\n              type=\"email\"\r\n              required\r\n            />\r\n          </div>\r\n          <div>\r\n            <input\r\n              placeholder=\"username\"\r\n              ref={userNameRef}\r\n              className=\"sign__up__inp\"\r\n              type=\"text\"\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"sign__up__field\">\r\n            <input\r\n              placeholder=\"password\"\r\n              ref={passwordRef}\r\n              className=\"sign__up__inp\"\r\n              type=\"password\"\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"sign__up__field\">\r\n            <input\r\n              placeholder=\"password confirmation\"\r\n              ref={passwordConnfirmationRef}\r\n              className=\"sign__up__inp\"\r\n              type=\"password\"\r\n              required\r\n            />\r\n          </div>\r\n          <div>\r\n            <button\r\n              className=\"sign__up__btn\"\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              onClick={handleSubmit}\r\n            >\r\n              Sign Up\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"password__secondary__links\">\r\n            <h3 className=\"question__secondary\">Alredy have an acount?</h3>\r\n            <Link to=\"/login\">\r\n              <button className=\"secondary__btn\">Login</button>\r\n            </Link>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignUp;\r\n","import React, { useRef, useState } from \"react\";\r\nimport \"../sign-up/signUp.styles.css\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport { useAuth } from \"../../contexts/authContext\";\r\n\r\nfunction LogIn() {\r\n  const emailRef = useRef();\r\n  const passwordRef = useRef();\r\n  const { login } = useAuth();\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const history = useHistory();\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    try {\r\n      setError(\"\");\r\n      setLoading(true);\r\n      await login(emailRef.current.value, passwordRef.current.value);\r\n      history.push(\"/\");\r\n    } catch {\r\n      setError(\"Failed to log in\");\r\n    }\r\n    setLoading(false);\r\n  }\r\n\r\n  return (\r\n    <div className=\"main__container\">\r\n      <div className=\"circle__one\" />\r\n      <div className=\"circle__two\" />\r\n      <div className=\"sign__up__container\">\r\n        <h2 className=\"sign__up__title\">Login</h2>\r\n        {error && <h3 className=\"error__message\">{error}</h3>}\r\n        <form className=\"sign__up__form\" onSubmit={handleSubmit}>\r\n          <div className=\"sign__up__field\">\r\n            <input\r\n              placeholder=\"email\"\r\n              ref={emailRef}\r\n              className=\"sign__up__inp\"\r\n              type=\"email\"\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"sign__up__field\">\r\n            <input\r\n              placeholder=\"password\"\r\n              ref={passwordRef}\r\n              className=\"sign__up__inp\"\r\n              type=\"password\"\r\n              required\r\n            />\r\n          </div>\r\n          <div>\r\n            <button\r\n              className=\"sign__up__btn\"\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              onClick={handleSubmit}\r\n            >\r\n              Login\r\n            </button>\r\n          </div>\r\n          <Link className=\"link__style\" to=\"/forgot-password\">\r\n            Forgot Password?\r\n          </Link>\r\n          <div className=\"password__secondary__links\">\r\n            <h3 className=\"question__secondary\">Need an account? </h3>\r\n            <Link to=\"/signup\">\r\n              <button className=\"secondary__btn\">Sign Up</button>\r\n            </Link>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LogIn;\r\n","import React from \"react\";\r\nimport \"./todoList.styles.css\";\r\nimport { db } from \"../../firebase\";\r\nimport { useAuth } from \"../../contexts/authContext\";\r\nimport { FaTrashAlt } from \"react-icons/fa\";\r\nimport { MdDone, MdDoneAll } from \"react-icons/md\";\r\n\r\nfunction TodoList({ todo, id, inprogress }) {\r\n  const { currentUser } = useAuth();\r\n\r\n  const toggleInprogress = () => {\r\n    db.collection(\"users\")\r\n      .doc(currentUser.uid)\r\n      .collection(\"todos\")\r\n      .doc(id)\r\n      .update({\r\n        inprogress: !inprogress,\r\n      });\r\n  };\r\n\r\n  const deleteTodo = () => {\r\n    db.collection(\"users\")\r\n      .doc(currentUser.uid)\r\n      .collection(\"todos\")\r\n      .doc(id)\r\n      .delete()\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"todo__list__task\">\r\n      <div>\r\n        <p className=\"todo__paragraph\">{todo}</p>\r\n\r\n        {inprogress ? (\r\n          <p className=\"inprogress\">In Progress</p>\r\n        ) : (\r\n          <p className=\"inprogress done\">Complited</p>\r\n        )}\r\n      </div>\r\n      <div className=\"todo__icons\">\r\n        <div className=\"todo__icon\" onClick={toggleInprogress}>\r\n          {inprogress ? <MdDone /> : <MdDoneAll />}\r\n        </div>\r\n        <div className=\"todo__icon\">\r\n          <FaTrashAlt onClick={deleteTodo} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TodoList;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./home.styles.css\";\r\nimport { useAuth } from \"../../contexts/authContext\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { db } from \"../../firebase\";\r\nimport firebase from \"firebase\";\r\nimport TodoList from \"../todo-list/todoList\";\r\nimport { FaPowerOff } from \"react-icons/fa\";\r\nimport { MdSettings } from \"react-icons/md\";\r\n\r\nfunction Home() {\r\n  const [error, setError] = useState(\"\");\r\n  const { currentUser, logout } = useAuth();\r\n  // const currentUserId = currentUser ? currentUser.uid : null;\r\n  const [todoInput, setTodoInput] = useState(\"\");\r\n  const [todos, setTodos] = useState([]);\r\n  const [userData, setUserData] = useState([]);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    getTodos();\r\n    getUserInfo();\r\n  }, []);\r\n\r\n  async function handleLogout() {\r\n    setError(\"\");\r\n    try {\r\n      await logout();\r\n      history.push(\"/login\");\r\n    } catch {\r\n      setError(\"Failed to log out!\");\r\n    }\r\n  }\r\n  const handleChange = (e) => {\r\n    setTodoInput(e.target.value);\r\n  };\r\n  const getTodos = () => {\r\n    db.collection(\"users\")\r\n      .doc(currentUser.uid)\r\n      .collection(\"todos\")\r\n      .onSnapshot(function (querySnapshot) {\r\n        setTodos(\r\n          querySnapshot.docs.map((doc) => ({\r\n            id: doc.id,\r\n            todo: doc.data().todo,\r\n            inprogress: doc.data().inprogress,\r\n          }))\r\n        );\r\n      });\r\n  };\r\n  const getUserInfo = () => {\r\n    db.collection(\"users\")\r\n      .doc(currentUser.uid)\r\n      .collection(\"usersInfo\")\r\n      .onSnapshot(function (querySnapshot) {\r\n        setUserData(\r\n          querySnapshot.docs.map((doc) => ({\r\n            id: doc.id,\r\n            userName: doc.data().userName,\r\n          }))\r\n        );\r\n      });\r\n  };\r\n\r\n  const addTodo = (e) => {\r\n    e.preventDefault();\r\n\r\n    db.collection(\"users\").doc(currentUser.uid).collection(\"todos\").add({\r\n      inprogress: true,\r\n      timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n      todo: todoInput,\r\n    });\r\n    setTodoInput(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"home__container\">\r\n      <div className=\"circle__one__home\" />\r\n      <div className=\"circle__two__home\" />\r\n      <div className=\"todo__app\">\r\n        {error && <h2>{error}</h2>}\r\n\r\n        <div className=\"todo__title\">\r\n          {\" \"}\r\n          {userData.map((user) => (\r\n            <h3 key={user.id}>{user.userName}'s todo list </h3>\r\n          ))}\r\n          <div className=\"todo__title__icons\">\r\n            <Link to=\"/update-profile\">\r\n              <MdSettings className=\"todo__title__icon\" />\r\n            </Link>\r\n\r\n            <FaPowerOff onClick={handleLogout} className=\"todo__title__icon\" />\r\n          </div>\r\n        </div>\r\n        <form className=\"todo__form\" onSubmit={addTodo}>\r\n          <input\r\n            className=\"todo__input\"\r\n            type=\"text\"\r\n            placeholder=\"add new todo\"\r\n            onChange={handleChange}\r\n            value={todoInput}\r\n          />\r\n        </form>\r\n        <div className=\"todos__list\">\r\n          {todos.map((todo) => (\r\n            <TodoList\r\n              key={todo.id}\r\n              todo={todo.todo}\r\n              inprogress={todo.inprogress}\r\n              id={todo.id}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { useAuth } from \"../../contexts/authContext\";\r\n\r\nfunction PrivateRoute({ component: Component, ...rest }) {\r\n  const { currentUser } = useAuth();\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        return currentUser ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to=\"/login\" />\r\n        );\r\n      }}\r\n    ></Route>\r\n  );\r\n}\r\n\r\nexport default PrivateRoute;\r\n","import React, { useRef, useState } from \"react\";\r\nimport \"../sign-up/signUp.styles.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { useAuth } from \"../../contexts/authContext\";\r\n\r\nfunction ForgotPassword() {\r\n  const emailRef = useRef();\r\n  const { resetPassword } = useAuth();\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    try {\r\n      setMessage(\"\");\r\n      setError(\"\");\r\n      setLoading(true);\r\n      await resetPassword(emailRef.current.value);\r\n      setMessage(\"Check your inbox for further instructiones\");\r\n    } catch {\r\n      setError(\"Failed to Reset Password!\");\r\n    }\r\n    setLoading(false);\r\n  }\r\n\r\n  return (\r\n    <div className=\"main__container\">\r\n      <div className=\"circle__one\" />\r\n      <div className=\"circle__two\" />\r\n      <div className=\"sign__up__container\">\r\n        <h2 className=\"sign__up__title\">Password Reset</h2>\r\n        {error && <h3 className=\"error__message\">{error}</h3>}\r\n        {message && <h3 className=\"confirmation__message\">{message}</h3>}\r\n        <form className=\"sign__up__form\" onSubmit={handleSubmit}>\r\n          <div className=\"sign__up__field\">\r\n            <input\r\n              placeholder=\"email\"\r\n              ref={emailRef}\r\n              className=\"sign__up__inp\"\r\n              type=\"email\"\r\n              required\r\n            />\r\n          </div>\r\n          <div>\r\n            <button\r\n              className=\"sign__up__btn\"\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              onClick={handleSubmit}\r\n            >\r\n              Reset Password\r\n            </button>\r\n          </div>\r\n          <div className=\"password__secondary__links\">\r\n            <Link to=\"/login\">\r\n              <button className=\"secondary__btn\">Login</button>\r\n            </Link>\r\n            <Link to=\"/signup\">\r\n              <button className=\"secondary__btn\">Sign Up</button>\r\n            </Link>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ForgotPassword;\r\n","import React, { useRef, useState } from \"react\";\r\nimport \"../sign-up/signUp.styles.css\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport { useAuth } from \"../../contexts/authContext\";\r\n// import { db } from \"../../firebase\";\r\n\r\nfunction UpdateProfile() {\r\n  const emailRef = useRef();\r\n  const passwordRef = useRef();\r\n  const userNameRef = useRef();\r\n  const passwordConnfirmationRef = useRef();\r\n  const { currentUser, updateEmail, updatePassword } = useAuth();\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const history = useHistory();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (passwordRef.current.value !== passwordConnfirmationRef.current.value) {\r\n      return setError(\"password do not match\");\r\n    }\r\n    // if (userNameRef.current.value !== null) {\r\n    //   db.collection(\"users\").doc(currentUser.uid).collection(\"usersInfo\").doc(currentUser.userName);\r\n    // }\r\n\r\n    const promises = [];\r\n    setLoading(true);\r\n    setError(\"\");\r\n    if (emailRef.current.value !== currentUser.email) {\r\n      promises.push(updateEmail(emailRef.current.value));\r\n    }\r\n    if (passwordRef.current.value) {\r\n      promises.push(updatePassword(passwordRef.current.value));\r\n    }\r\n\r\n    Promise.all(promises)\r\n      .then(() => {\r\n        history.push(\"/\");\r\n      })\r\n      .catch(() => {\r\n        setError(\"Failed to update account\");\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <div className=\"main__container\">\r\n      <div className=\"circle__one\" />\r\n      <div className=\"circle__two\" />\r\n      <div className=\"sign__up__container\">\r\n        <h2 className=\"sign__up__title\">Update Profile</h2>\r\n        {error && <h3 className=\"error__message\">{error}</h3>}\r\n        <form className=\"sign__up__form\" onSubmit={handleSubmit}>\r\n          <div className=\"sign__in__label\">\r\n            <input\r\n              ref={emailRef}\r\n              className=\"sign__up__inp\"\r\n              type=\"email\"\r\n              required\r\n              defaultValue={currentUser.email}\r\n            />\r\n          </div>\r\n          <div className=\"sign__in__label\">\r\n            <input\r\n              ref={passwordRef}\r\n              className=\"sign__up__inp\"\r\n              type=\"password\"\r\n              placeholder=\"create new password\"\r\n            />\r\n          </div>\r\n          <div className=\"sign__in__label\">\r\n            <input\r\n              label=\"password confirmation\"\r\n              ref={passwordConnfirmationRef}\r\n              className=\"sign__up__inp\"\r\n              type=\"password\"\r\n              required\r\n              placeholder=\"confirm new password\"\r\n            />\r\n          </div>\r\n          <div className=\"btns__update__profile\">\r\n            <div>\r\n              <button\r\n                className=\"sign__up__btn\"\r\n                type=\"submit\"\r\n                disabled={loading}\r\n                onClick={handleSubmit}\r\n              >\r\n                Update\r\n              </button>\r\n            </div>\r\n            <div>\r\n              <Link to=\"/\">\r\n                <button className=\"sign__up__btn\">Cancel</button>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UpdateProfile;\r\n// 51\r\n","import React from \"react\";\nimport \"./App.css\";\nimport SignUp from \"./components/sign-up/signUp\";\nimport { AuthProvider } from \"./contexts/authContext\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport LogIn from \"./components/login/login\";\nimport Home from \"./components/home/home\";\nimport PrivateRoute from \"./components/private-route/privateRoute\";\nimport ForgotPassword from \"./components/forgot-password/forgotPassword\";\nimport UpdateProfile from \"./components/update-profile/updateProfile\";\n\nfunction App() {\n  return (\n    <Router>\n      <AuthProvider>\n        <Switch>\n          <PrivateRoute exact path=\"/\" component={Home} />\n          <PrivateRoute path=\"/update-profile\" component={UpdateProfile} />\n          <Route path=\"/signup\" component={SignUp} />\n          <Route path=\"/login\" component={LogIn} />\n          <Route path=\"/forgot-password\" component={ForgotPassword} />\n        </Switch>\n      </AuthProvider>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}